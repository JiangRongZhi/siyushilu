exports.ids=[38],exports.modules={346:function(e,o,r){"use strict";r.r(o);var t=r(4),l=r(0),n={layout:"aijinke",data(){return{activeName:"first",activeIndex:"1",infoForm:{name:"李媛媛",sex:"1",date1:"1985-2-2",professionName:"市场营销",code:"007",lesson:"市场营销理论",classList:[],mphone:"180222111",email:"xxxx@163.com",character:"老师",userNo:"",xyName:"",classTree:[],teacherClassList:[]},ruleForm:{pass:"",checkPass:"",oldPass:""},rulesInfo:{},rules:{pass:[{validator:(e,o,r)=>{""===o?r(new Error("请输入密码")):(""!==this.ruleForm.checkPass&&this.$refs.ruleForm.validateField("checkPass"),r())},trigger:"blur"}],checkPass:[{validator:(e,o,r)=>{""===o?r(new Error("请再次输入密码")):o!==this.ruleForm.pass?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"}],oldPass:[{validator:(e,o,r)=>{""===o&&r(new Error("请输入旧密码"))},trigger:"blur"}]}}},created(){this.getUserDetails()},methods:{...Object(t.mapActions)("user",["getUserDetail","updateUserInfo"]),getUserDetails(){this.getUserDetail().then(e=>{if(e){this.infoForm.classTree=e.classTree[0].children,this.infoForm.teacherClassList=e.teacherClassList;const data=e.data;this.infoForm.tid=data.tid,this.infoForm.name=data.name,this.infoForm.email=data.email,this.infoForm.date1=data.birth,this.infoForm.code=data.code,this.infoForm.lesson=data.lesson,this.infoForm.professionName=data.professionName,this.infoForm.mphone=data.mphone,this.infoForm.userNo=data.userNo,this.infoForm.xyName=data.xyName,this.infoForm.classList=data.classList,1==e.type?this.infoForm.character="老师":this.infoForm.character="学生"}})},resetPasswrod(e){this.$refs[e].validate(e=>{if(console.log(e),!e)return console.log("error submit!!"),!1;console.log("1111")})},submitUserInfo(e){this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;"老师"==this.infoForm.character?this.updateUserInfo(this.infoForm).then(e=>{0==e.code&&l.a.successMessage("修改成功！")}):console.log("学生")})}}},m=r(3),component=Object(m.a)(n,(function(){var e=this,o=e.$createElement,r=e._self._c||o;return r("div",{staticClass:"uc-center-wrap"},[e._ssrNode('<div class="main">',"</div>",[r("el-container",[r("el-aside",{attrs:{width:"260px"}},[r("div",{staticClass:"aside-panel"},[r("div",{staticClass:"aside-avatar"},[r("img",{attrs:{src:"/image/avatar.png",alt:""}})]),e._v(" "),r("ul",{staticClass:"uc-grid"},[r("li",[r("span",[e._v("姓名：")]),e._v("\n              "+e._s(e.infoForm.name)+"\n            ")]),e._v(" "),r("li",[r("span",[e._v("角色：")]),e._v("\n              "+e._s(e.infoForm.character)+"\n            ")]),e._v(" "),r("li",[r("span",[e._v("账号：")]),e._v("\n              "+e._s(e.infoForm.userNo)+"\n            ")]),e._v(" "),r("li",[r("span",[e._v("学校：")]),e._v("\n              "+e._s(e.infoForm.xyName)+"\n            ")]),e._v(" "),r("li",[r("span",[e._v("授课专业：")]),e._v("\n              "+e._s(e.infoForm.professionName)+"\n            ")])])])]),e._v(" "),r("el-main",[r("div",{staticClass:"col-panel"},[r("div",{staticClass:"main-panel form-panel"},[r("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(o){e.activeName=o},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"账户信息",name:"first"}},[r("el-form",{ref:"infoForm",staticClass:"panelForm",attrs:{model:e.infoForm,rules:e.rulesInfo,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[r("el-input",{attrs:{disabled:""},model:{value:e.infoForm.name,callback:function(o){e.$set(e.infoForm,"name",o)},expression:"infoForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-radio-group",{model:{value:e.infoForm.sex,callback:function(o){e.$set(e.infoForm,"sex",o)},expression:"infoForm.sex"}},[r("el-radio",{attrs:{label:"1"}},[e._v("男")]),e._v(" "),r("el-radio",{attrs:{label:"2"}},[e._v("女")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"生日",required:""}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"date1"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.infoForm.date1,callback:function(o){e.$set(e.infoForm,"date1",o)},expression:"infoForm.date1"}})],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"授业专业",prop:"professionName"}},[r("el-input",{model:{value:e.infoForm.professionName,callback:function(o){e.$set(e.infoForm,"professionName",o)},expression:"infoForm.professionName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"授课课程",prop:"lesson"}},[r("el-input",{model:{value:e.infoForm.lesson,callback:function(o){e.$set(e.infoForm,"lesson",o)},expression:"infoForm.lesson"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"授课班级",prop:"classlist"}},[r("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.infoForm.classTree,props:{value:"id",multiple:!0},"show-all-levels":!1,clearable:""},model:{value:e.infoForm.teacherClassList,callback:function(o){e.$set(e.infoForm,"teacherClassList",o)},expression:"infoForm.teacherClassList"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"教师工号",prop:"code"}},[r("el-input",{attrs:{disabled:""},model:{value:e.infoForm.code,callback:function(o){e.$set(e.infoForm,"code",o)},expression:"infoForm.code"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号码",prop:"mphone"}},[r("el-input",{attrs:{disabled:""},model:{value:e.infoForm.mphone,callback:function(o){e.$set(e.infoForm,"mphone",o)},expression:"infoForm.mphone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.infoForm.email,callback:function(o){e.$set(e.infoForm,"email",o)},expression:"infoForm.email"}})],1),e._v(" "),r("div",{staticClass:"form-footer"},[r("el-button",{attrs:{type:"success"},on:{click:function(o){return e.submitUserInfo("infoForm")}}},[e._v("保存")])],1)],1)],1),e._v(" "),r("el-tab-pane",{attrs:{label:"修改密码",name:"second"}},[r("el-form",{ref:"ruleForm",staticClass:"passForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"150px"}},[r("el-form-item",{attrs:{label:"输入原密码",prop:"oldPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.oldPass,callback:function(o){e.$set(e.ruleForm,"oldPass",o)},expression:"ruleForm.oldPass"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"输入新密码",prop:"pass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.pass,callback:function(o){e.$set(e.ruleForm,"pass",o)},expression:"ruleForm.pass"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"再次输入新密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(o){e.$set(e.ruleForm,"checkPass",o)},expression:"ruleForm.checkPass"}})],1),e._v(" "),r("div",{staticClass:"form-footer"},[r("el-button",{attrs:{type:"success"},on:{click:function(o){return e.resetPasswrod("ruleForm")}}},[e._v("提交")])],1)],1)],1)],1)],1)])])],1)],1)])}),[],!1,null,null,"6e6fe30c");o.default=component.exports}};
//# sourceMappingURL=9d1b4794a4e4b256b3e8.js.map